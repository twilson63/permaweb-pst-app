<script>
  import { getHost } from "../lib/utils.js";
  import { format, fromUnixTime } from "date-fns";
  export let asset;
</script>

<div class="md:w-1/2 px-0 mx-0 grid place-items-center">
  {#if asset.renderWith}
    <iframe
      src={`https://${getHost()}/${asset.renderWith}/?tx=${asset.id}`}
      class="h-[200px] w-full md:w-[660px] object-contain"
    />
  {:else if asset.type === "image"}
    <img
      class="h-[200px] w-full object-contain"
      src={asset.src}
      alt={asset.title}
    />
  {:else if asset.type === "video"}
    <video controls class="h-[400px] w-full md:w-[500px] object-contain">
      <source src={`https://${getHost()}/${asset.id}`} />
    </video>
  {:else if asset.type === "audio"}
    <iframe
      src={`https://${getHost()}/f6I-Do04BO2pJysbiYIFjq4NkmjT5iYYWfF6cO-N4mc/?tx=${id}`}
      class="h-[400px] w-full md:w-[660px] object-contain"
    />
  {:else}
    <iframe
      src={asset.src}
      class="h-[400px] w-full md:w-[500px] object-contain"
    />
  {/if}
  <h1 class="text-2xl font-bold w-full">{asset.title}</h1>
  <div class="flex w-full justify-between">
    <div class="flex items-center space-x-2 mt-4">
      <div>
        <svg
          width="16"
          height="12"
          viewBox="0 0 16 12"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M15.3 6.4C15.2475 6.43939 15.1877 6.46806 15.1241 6.48436C15.0605 6.50065 14.9943 6.50426 14.9293 6.49497C14.8643 6.48569 14.8018 6.46369 14.7453 6.43024C14.6888 6.39678 14.6394 6.35253 14.6 6.3C14.2986 5.89491 13.9064 5.56624 13.4548 5.34045C13.0032 5.11465 12.5049 4.99804 12 5C11.9017 4.99999 11.8055 4.97099 11.7236 4.91663C11.6417 4.86227 11.5776 4.78496 11.5394 4.69437C11.5134 4.63286 11.5001 4.56677 11.5001 4.5C11.5001 4.43323 11.5134 4.36714 11.5394 4.30562C11.5776 4.21503 11.6417 4.13773 11.7236 4.08337C11.8055 4.02901 11.9017 4.00001 12 4C12.2806 3.99997 12.5555 3.92127 12.7935 3.77284C13.0316 3.6244 13.2232 3.41218 13.3467 3.16027C13.4702 2.90837 13.5206 2.62688 13.4921 2.34779C13.4637 2.06869 13.3575 1.80317 13.1857 1.58139C13.0139 1.35961 12.7833 1.19045 12.5202 1.09313C12.2571 0.995818 11.9719 0.974245 11.6972 1.03086C11.4224 1.08748 11.169 1.22002 10.9658 1.41343C10.7626 1.60684 10.6176 1.85336 10.5475 2.125C10.5311 2.18861 10.5023 2.24836 10.4628 2.30085C10.4233 2.35333 10.3738 2.39752 10.3172 2.43089C10.2607 2.46426 10.1981 2.48616 10.133 2.49534C10.068 2.50451 10.0017 2.50079 9.93813 2.48437C9.87452 2.46796 9.81477 2.43917 9.76228 2.39967C9.7098 2.36016 9.66561 2.3107 9.63224 2.25411C9.59887 2.19753 9.57697 2.13492 9.56779 2.06988C9.55862 2.00483 9.56234 1.93861 9.57876 1.875C9.6761 1.49832 9.86002 1.14956 10.1159 0.856468C10.3717 0.563377 10.6925 0.334044 11.0525 0.186717C11.4126 0.0393908 11.8021 -0.0218629 12.19 0.00782995C12.578 0.0375228 12.9536 0.157343 13.2871 0.357756C13.6205 0.558169 13.9026 0.833643 14.1109 1.16226C14.3191 1.49088 14.4478 1.86357 14.4867 2.25067C14.5256 2.63778 14.4736 3.02862 14.3349 3.39209C14.1961 3.75557 13.9744 4.08164 13.6875 4.34437C14.3674 4.63875 14.9584 5.10588 15.4019 5.69937C15.4413 5.75204 15.4699 5.81195 15.4861 5.87569C15.5023 5.93943 15.5058 6.00574 15.4963 6.07082C15.4868 6.1359 15.4646 6.19848 15.4309 6.25497C15.3973 6.31145 15.3528 6.36074 15.3 6.4ZM11.9325 10.25C11.9687 10.3069 11.993 10.3705 12.0039 10.4371C12.0149 10.5036 12.0122 10.5717 11.9962 10.6372C11.9801 10.7027 11.951 10.7643 11.9106 10.8182C11.8701 10.8722 11.8192 10.9174 11.7608 10.9511C11.7024 10.9849 11.6378 11.0065 11.5708 11.0146C11.5039 11.0227 11.436 11.0172 11.3712 10.9984C11.3065 10.9796 11.2462 10.948 11.194 10.9053C11.1418 10.8626 11.0988 10.8098 11.0675 10.75C10.7525 10.2167 10.304 9.77467 9.76602 9.46762C9.22809 9.16058 8.6194 8.99909 8.00001 8.99909C7.38061 8.99909 6.77192 9.16058 6.23399 9.46762C5.69606 9.77467 5.24748 10.2167 4.93251 10.75C4.90125 10.8098 4.85823 10.8626 4.80603 10.9053C4.75383 10.948 4.69354 10.9796 4.62878 10.9984C4.56401 11.0172 4.49612 11.0227 4.42917 11.0146C4.36223 11.0065 4.29762 10.9849 4.23924 10.9511C4.18086 10.9174 4.12991 10.8722 4.08945 10.8182C4.04899 10.7643 4.01986 10.7027 4.00382 10.6372C3.98778 10.5717 3.98515 10.5036 3.99609 10.4371C4.00704 10.3705 4.03133 10.3069 4.06751 10.25C4.55226 9.41711 5.29138 8.76167 6.17626 8.38C5.67834 7.99877 5.3124 7.4711 5.12988 6.87114C4.94736 6.27119 4.95744 5.62912 5.1587 5.03519C5.35996 4.44126 5.74228 3.92533 6.25192 3.55992C6.76157 3.19451 7.3729 2.998 8.00001 2.998C8.62711 2.998 9.23845 3.19451 9.74809 3.55992C10.2577 3.92533 10.64 4.44126 10.8413 5.03519C11.0426 5.62912 11.0526 6.27119 10.8701 6.87114C10.6876 7.4711 10.3217 7.99877 9.82376 8.38C10.7086 8.76167 11.4478 9.41711 11.9325 10.25ZM8.00001 8C8.39557 8 8.78225 7.8827 9.11115 7.66294C9.44005 7.44317 9.69639 7.13082 9.84777 6.76537C9.99914 6.39991 10.0387 5.99778 9.96158 5.60982C9.88441 5.22186 9.69392 4.86549 9.41422 4.58578C9.13451 4.30608 8.77815 4.1156 8.39019 4.03843C8.00223 3.96126 7.60009 4.00086 7.23464 4.15224C6.86919 4.30361 6.55683 4.55996 6.33707 4.88886C6.1173 5.21776 6.00001 5.60444 6.00001 6C6.00001 6.53043 6.21072 7.03914 6.58579 7.41421C6.96087 7.78928 7.46957 8 8.00001 8ZM4.50001 4.5C4.50001 4.36739 4.44733 4.24021 4.35356 4.14645C4.25979 4.05268 4.13261 4 4.00001 4C3.71946 3.99997 3.44455 3.92127 3.20649 3.77284C2.96843 3.6244 2.77677 3.41218 2.65328 3.16027C2.52978 2.90837 2.47941 2.62688 2.50788 2.34779C2.53635 2.06869 2.64252 1.80317 2.81432 1.58139C2.98613 1.35961 3.21669 1.19045 3.47982 1.09313C3.74294 0.995818 4.02809 0.974245 4.30286 1.03086C4.57763 1.08748 4.83102 1.22002 5.03424 1.41343C5.23746 1.60684 5.38237 1.85336 5.45251 2.125C5.48566 2.25346 5.56849 2.3635 5.68277 2.43089C5.79704 2.49829 5.93342 2.51753 6.06188 2.48437C6.19035 2.45122 6.30038 2.36839 6.36777 2.25411C6.43517 2.13983 6.45441 2.00346 6.42126 1.875C6.32391 1.49832 6.13999 1.14956 5.88414 0.856468C5.62829 0.563377 5.30756 0.334044 4.94748 0.186717C4.5874 0.0393908 4.1979 -0.0218629 3.80998 0.00782995C3.42206 0.0375228 3.04642 0.157343 2.71296 0.357756C2.3795 0.558169 2.09741 0.833643 1.88914 1.16226C1.68088 1.49088 1.55218 1.86357 1.5133 2.25067C1.47441 2.63778 1.52641 3.02862 1.66516 3.39209C1.8039 3.75557 2.02557 4.08164 2.31251 4.34437C1.63331 4.63902 1.04295 5.10614 0.600007 5.69937C0.520359 5.80546 0.486116 5.93884 0.504811 6.07018C0.523506 6.20151 0.593607 6.32004 0.699694 6.39969C0.805781 6.47933 0.939162 6.51358 1.0705 6.49488C1.20183 6.47619 1.32036 6.40609 1.40001 6.3C1.70137 5.89491 2.09364 5.56624 2.54523 5.34045C2.99682 5.11465 3.49512 4.99804 4.00001 5C4.13261 5 4.25979 4.94732 4.35356 4.85355C4.44733 4.75978 4.50001 4.63261 4.50001 4.5Z"
            fill="#424242"
          />
        </svg>
      </div>
      <div class="flex flex-col text-sm">
        <span>Current Owners</span><span>{asset.sponsors}</span>
      </div>
    </div>
    <div class="flex items-center space-x-2">
      <div>
        <svg
          width="14"
          height="14"
          viewBox="0 0 14 14"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M7 0.5C5.71442 0.5 4.45772 0.881218 3.3888 1.59545C2.31988 2.30968 1.48676 3.32484 0.994786 4.51256C0.502816 5.70028 0.374095 7.00721 0.624899 8.26809C0.875703 9.52896 1.49477 10.6872 2.40381 11.5962C3.31285 12.5052 4.47104 13.1243 5.73192 13.3751C6.99279 13.6259 8.29973 13.4972 9.48744 13.0052C10.6752 12.5132 11.6903 11.6801 12.4046 10.6112C13.1188 9.54229 13.5 8.28558 13.5 7C13.4982 5.27665 12.8128 3.62441 11.5942 2.40582C10.3756 1.18722 8.72335 0.50182 7 0.5ZM7 12.5C5.91221 12.5 4.84884 12.1774 3.94437 11.5731C3.0399 10.9687 2.33495 10.1098 1.91867 9.10476C1.50238 8.09977 1.39347 6.9939 1.60568 5.927C1.8179 4.86011 2.34173 3.8801 3.11092 3.11091C3.8801 2.34172 4.86011 1.8179 5.92701 1.60568C6.9939 1.39346 8.09977 1.50238 9.10476 1.91866C10.1098 2.33494 10.9687 3.03989 11.5731 3.94436C12.1774 4.84883 12.5 5.9122 12.5 7C12.4983 8.45818 11.9184 9.85617 10.8873 10.8873C9.85617 11.9184 8.45819 12.4983 7 12.5ZM11 7C11 7.13261 10.9473 7.25979 10.8536 7.35355C10.7598 7.44732 10.6326 7.5 10.5 7.5H7C6.86739 7.5 6.74022 7.44732 6.64645 7.35355C6.55268 7.25979 6.5 7.13261 6.5 7V3.5C6.5 3.36739 6.55268 3.24021 6.64645 3.14645C6.74022 3.05268 6.86739 3 7 3C7.13261 3 7.25979 3.05268 7.35356 3.14645C7.44732 3.24021 7.5 3.36739 7.5 3.5V6.5H10.5C10.6326 6.5 10.7598 6.55268 10.8536 6.64645C10.9473 6.74021 11 6.86739 11 7Z"
            fill="#424242"
          />
        </svg>
      </div>
      <div class="flex flex-col text-sm">
        <span>Date Created</span>
        <span>{format(fromUnixTime(asset.timestamp), "MMMM d, yyyy")}</span>
      </div>
    </div>
  </div>
  <slot />
</div>
